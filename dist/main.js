!function(t){var e={};function i(a){if(e[a])return e[a].exports;var h=e[a]={i:a,l:!1,exports:{}};return t[a].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(a,h,function(e){return t[e]}.bind(null,h));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e){var i=document.getElementById("game-canvas"),a=i.getContext("2d");i.width=window.innerWidth-20,i.height=window.innerHeight-20;t.exports={canvas:i,ctx:a,drawCanvas:function(){a.fillStyle="black",a.fillRect(0,0,window.innerWidth,window.innerHeight)}}},function(t,e,i){"use strict";i.r(e);var a=i(0),h=new Image;h.src="src/images/CrystalCaverns_Midground.png";var s=new Image;function n(t){a.ctx.drawImage(t,.005*a.canvas.height*r.frameX,0,r.width,r.height,.0123*a.canvas.width,.196*a.canvas.height,.976*a.canvas.width,.78*a.canvas.height)}s.src="src/images/CrystalCaverns_Foreground.png";var r={width:2625,height:1080,frameX:0},c=new Image,o={width:53,height:32,counter:1,frame:1,toggle:"off"};var d={width:5888,height:1080,location:.244*a.canvas.width*.42211};var l=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=.1*a.canvas.width,this.y=.6*a.canvas.height,this.width=100,this.height=100,this.scale=.2*a.canvas.height,this.centerPointX=this.x+this.scale/2,this.centerPointY=this.y+this.scale/2,this.actualScale=.2*a.canvas.height/100,this.frameX=0,this.frameY=0,this.getHitFrame=0,this.idleFrame=0,this.deathFrame=0,this.speed=.005*a.canvas.height,this.moving=!1,this.flip="right",this.shooting=!1,this.counter=0,this.clickXPos=0,this.hit=!1,this.dead=!1},g=new Image;g.src="src/sprites/Huntress/Sprites/Character/Run.png";var v=new Image;v.src="src/sprites/Huntress/Sprites/Character/Attack.png";var f=new Image;f.src="src/sprites/Huntress/Sprites/Character/Get Hit.png";var w=new Image;function u(t,e){"right"===l.flip?a.ctx.drawImage(t,l.width*e,0,l.width,l.height,l.x,l.y,.2*a.canvas.height,.2*a.canvas.height):"right"!=l.flip&&(a.ctx.save(),a.ctx.translate(l.x+.2*a.canvas.height,l.y),a.canvas.height,a.ctx.scale(-1,1),a.ctx.drawImage(t,l.width*e,0,l.width,l.height,0,0,.2*a.canvas.height,.2*a.canvas.height),a.ctx.restore())}function m(){l.hit?u(f,l.getHitFrame):l.shooting?(l.flip=l.clickXPos>l.x?"right":"left",u(v,l.frameY),5===l.frameY&&(l.shooting=!1)):l.moving?u(g,l.frameX):u(w,l.idleFrame),l.moving=!1,l.counter%5==0&&(l.idleFrame<9?l.idleFrame++:l.idleFrame=0)}function p(){l.counter%5==0&&(l.frameX<7?l.frameX++:l.frameX=0)}w.src="src/sprites/Huntress/Sprites/Character/Idle.png",(new Image).src="src/sprites/Huntress/Sprites/Character/Death.png";var x={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1,w:!1,a:!1,s:!1,d:!1};function y(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}window.addEventListener("keydown",(function(t){t.preventDefault(),x[t.key]=!0,console.log(t.key)})),window.addEventListener("keyup",(function(t){t.preventDefault(),x[t.key]=!1}));var X=new Image;X.src="src/sprites/Huntress/Sprites/Arrow/Move.png";var M=function(){function t(e,i,h,s,n,r,c,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.speed=h,this.width=s,this.height=n,this.frameX=r,this.sprite=c,this.angle=o,this.left=this.x,this.right=this.x+this.width*(.001*a.canvas.width),this.top=this.y,this.bot=this.y+this.height*(.001*a.canvas.height),this.hit=!1,this.counter=1,this.airToggle="off"}var e,i,h;return e=t,(i=[{key:"draw",value:function(){a.ctx.save(),a.ctx.translate(this.x,this.y),a.ctx.rotate(this.angle),a.ctx.translate(-this.x,-this.y),a.ctx.drawImage(X,this.width*this.frameX,0,this.width,this.height,this.x,this.y,this.width*(.001*a.canvas.width),this.height*(.00175*a.canvas.height)),a.ctx.restore(),this.counter++%10==0&&(this.airToggle="on"),"on"===this.airToggle&&(a.ctx.save(),a.ctx.translate(this.x,this.y),a.ctx.rotate(this.angle),a.ctx.translate(-this.x,-this.y),a.ctx.fillStyle="rgba(44, 130, 201,0.3)",a.ctx.fillRect(this.x-.1*a.canvas.width,this.y,this.width+.1*a.canvas.width,this.height+3),a.ctx.restore())}},{key:"update",value:function(){this.x>.0183*a.canvas.width&&this.x+this.width*(.001*a.canvas.width)<.995*a.canvas.width&&this.y+this.height*(.002*a.canvas.width)<.9671*a.canvas.height&&this.y-this.height*(.003*a.canvas.width)>.19*a.canvas.height&&!1===this.hit&&(this.draw(),this.x=this.x+this.speed.x,this.y=this.y+this.speed.y)}}])&&y(e.prototype,i),h&&y(e,h),t}(),S=[];function P(){S.forEach((function(t,e){t.update(),(t.x<.0182*a.canvas.width||t.x>.995*a.canvas.width-t.width*(.001*a.canvas.width)||t.y<.1932*a.canvas.height+t.height*(.003*a.canvas.width)||t.y>.9671*a.canvas.height-t.height*(.002*a.canvas.width)||!0===t.hit)&&setTimeout((function(){S.splice(e,1)}),0)})),l.counter+=1,l.counter%3==0&&(l.frameY<5?l.frameY++:l.frameY=0)}window.addEventListener("click",(function(t){var e=Math.atan2(t.clientY-(l.y+.19*a.canvas.height/2),t.clientX-(l.x+.2*a.canvas.height/2)),i={x:Math.cos(e)*(.02*a.canvas.height),y:Math.sin(e)*(.02*a.canvas.height)};S.push(new M(l.x+.2*a.canvas.height/2,l.y+.19*a.canvas.height/2.35,i,24,5,0,X,e)),l.frameY=0,l.shooting=!0,l.clickXPos=t.clientX}));var b=new Image;b.src="src/images/heart.png";var k={heartPos:[.69,.74,.79],heartCount:3,counter:0};function I(){k.heartPos.forEach((function(t,e){k.heartCount-e>0&&a.ctx.drawImage(b,a.canvas.width*t,.015*a.canvas.height,.1*a.canvas.width,.1*a.canvas.width)}))}function C(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var Y=new Image;Y.src="src/sprites/Slime/SlimeA.png";var A=function(){function t(e,i,h,s,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Math.random()*(.96*a.canvas.width-.5*a.canvas.width)+.5*a.canvas.width,this.y=Math.random()*(.93*a.canvas.height-.45*a.canvas.height)+.45*a.canvas.height,this.scale=.05*a.canvas.height,this.centerPointX=this.x+this.scale/2,this.centerPointY=this.y+this.scale/2,this.speed=e,this.width=i,this.height=h,this.frameX=s,this.sprite=n,this.flip="right",this.counter=0,this.randomCounter=0,this.xSpeed=0,this.ySpeed=0,this.moving=!1,this.stop=10,this.xMove=0,this.yMove=0,this.randomFactor=r,this.left=this.x,this.right=this.x+this.scale,this.top=this.y,this.bot=this.y+this.scale}var e,i,h;return e=t,(i=[{key:"draw",value:function(){a.ctx.drawImage(this.sprite,this.width*this.frameX,0,this.width,this.height,this.x,this.y,this.scale,this.scale)}},{key:"update",value:function(){this.draw()}},{key:"handleSlimeAnimation",value:function(){this.counter+=1,this.counter%4==0&&(Math.abs(this.x-l.x)<200&&this.frameX<15||this.frameX<8?this.frameX++:8===this.frameX||15===this.frameX?this.frameX=0:this.frameX++)}},{key:"handleMovement",value:function(){this.randomCounter+=1,this.moving?(this.x+=this.xSpeed,this.centerPointX=this.x+this.scale/2,this.y+=this.ySpeed,this.centerPointY=this.y+this.scale/2,this.draw(),this.stop-=1,this.stop<=0&&(this.moving=!1,this.stop=10)):this.stop>0?(this.stop-=1,this.draw()):(Math.abs(l.x-this.x)<a.canvas.height/4&&Math.abs(l.y-this.y)<a.canvas.height/4?(this.xMove=l.centerPointX,this.yMove=l.centerPointY,Math.abs(l.x-this.x)<a.canvas.height/4?(this.xSpeed=(this.xMove-this.x)/30,this.ySpeed=(this.yMove-this.y)/30):(this.xSpeed=(this.xMove-this.x)/120,this.ySpeed=(this.yMove-this.y)/120)):(this.xMove=Math.random()*(.932*a.canvas.width-.02*a.canvas.width)+.02*a.canvas.width+.05*a.canvas.width,this.yMove=Math.random()*(.9*a.canvas.height-.5*a.canvas.height)+.45*a.canvas.height+.045*a.canvas.height,this.xSpeed=(this.xMove-this.x)/120,this.ySpeed=(this.yMove-this.y)/120),this.draw(),this.stop=30,this.moving=!0)}}])&&C(e.prototype,i),h&&C(e,h),t}(),H=[];function F(){k.counter++,H.forEach((function(t,e){t.handleSlimeAnimation(),t.handleMovement(),S.forEach((function(i){Math.hypot(i.x-t.centerPointX,i.y-t.centerPointY)-t.scale/2<1&&(H.splice(e,1),i.hit=!0)})),Math.hypot(t.centerPointX-l.centerPointX,t.centerPointY-l.centerPointY)-t.scale/2-l.scale/2<1&&k.heartCount>0&&k.counter%60==0&&(k.heartCount-=1,l.hit=!0),console.log(l.centerPointX,l.centerPointY)})),l.counter%10==0&&(l.getHitFrame<2?l.getHitFrame++:(l.getHitFrame=0,l.hit=!1))}!function(t){var e=Math.ceil(0),i=Math.floor(8);Math.floor(Math.random()*(i-e+1)+e);for(var h=1;h<=t;h++)H.push(new A(.013*a.canvas.height,15.99,16,Math.floor(Math.random()*(i-2-e+1)+e),Y,h))}(5);var R=.975*a.canvas.width,E=(a.canvas.width-R)/2,_=.775*a.canvas.height,j=new Image;j.src="src/images/rocks.png",(new Image).src="src/images/itembox.png";window.onload=function(){setInterval((function(){a.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),Object(a.drawCanvas)(),function(){a.ctx.createPattern(j,"repeat");var t=.15*a.canvas.height;a.ctx.fillStyle="black",a.ctx.fillRect(E,E,R,t);var e=R;a.ctx.fillStyle="gray",a.ctx.fillRect(E,2*E+t,e,_);var i,h,s,n;s=E+(h=(t-(i=.79*t))/2),n=2*E+h+.25*R,[.25,.075,.075,.2775].forEach((function(t){var e=R*t;a.ctx.strokeStyle="white",a.ctx.lineWidth=2,a.ctx.strokeRect(n,s,e,i),n+=E+e}))}(),I(),n(h),c.src="src/sprites/direction/AR100_nyknck/AR102_nyknck/AR102_0".concat(o.frame,".png"),"on"===o.toggle&&(a.ctx.drawImage(c,.9*a.canvas.width,.275*a.canvas.height,.0504*a.canvas.width,.0504*a.canvas.width*o.height/o.width),o.counter++%10==0&&o.frame++,6===o.frame&&(o.frame=1)),H.length<1&&0===r.frameX&&(o.toggle="on"),150===r.frameX&&(o.toggle="off"),a.ctx.drawImage(h,.0205*a.canvas.width,.03875*a.canvas.height,.244*a.canvas.width,.339*a.canvas.width*d.height/d.width),a.ctx.drawImage(s,.02025*a.canvas.width,.03875*a.canvas.height,.244*a.canvas.width,.339*a.canvas.width*d.height/d.width),a.ctx.fillStyle="white",a.ctx.fillRect(.0205*a.canvas.width+d.location,.03895*a.canvas.height,.001*a.canvas.width,.337*a.canvas.width*d.height/d.width),F(),m(),(x.ArrowUp||x.w)&&l.y>.4*a.canvas.height&&(l.moving=!0,l.y-=l.speed,l.centerPointY-=l.speed,p()),(x.ArrowDown||x.s)&&l.y<a.canvas.height-E-75*l.actualScale&&(l.moving=!0,l.y+=l.speed,l.centerPointY+=l.speed,p()),(x.ArrowLeft||x.a)&&l.x>E-30*l.actualScale&&(l.moving=!0,l.x-=l.speed,l.centerPointX-=l.speed,l.flip="left",p()),(x.ArrowRight||x.d)&&l.x<a.canvas.width-E-70*l.actualScale&&(l.moving=!0,l.x+=l.speed,l.centerPointX+=l.speed,r.frameX<490&&H.length<1&&(r.frameX+=1,d.location+=r.frameX*a.canvas.width*.244*47736e-10),l.flip="right",p()),x[" "]&&("right"===l.flip&&l.x>E-30*l.actualScale&&l.x<a.canvas.width-E-70*l.actualScale?(l.x+=4*l.speed,l.centerPointX+=4*l.speed):"right"!=l.flip&&l.x>E-30*l.actualScale&&l.x<a.canvas.width-E-70*l.actualScale&&(l.x-=4*l.speed,l.centerPointX-=4*l.speed)),P(),n(s)}),1e3/60)}}]);
//# sourceMappingURL=main.js.map