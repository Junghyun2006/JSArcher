!function(t){var e={};function i(a){if(e[a])return e[a].exports;var h=e[a]={i:a,l:!1,exports:{}};return t[a].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(a,h,function(e){return t[e]}.bind(null,h));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e){var i=document.getElementById("game-canvas"),a=i.getContext("2d");i.width=window.innerWidth-20,i.height=window.innerHeight-20;t.exports={canvas:i,ctx:a,drawCanvas:function(){a.fillStyle="black",a.fillRect(0,0,window.innerWidth,window.innerHeight)}}},function(t,e,i){"use strict";i.r(e);var a=i(0),h=new Image;h.src="src/images/heart.png";var n={heartPos:[.69,.74,.79],heartCount:3,counter:0};function s(){n.heartPos.forEach((function(t,e){n.heartCount-e>0&&a.ctx.drawImage(h,a.canvas.width*t,.015*a.canvas.height,.1*a.canvas.width,.1*a.canvas.width)}))}var r=new Image;r.src="src/images/CrystalCaverns_Midground.png";var c=new Image;function o(t){a.ctx.drawImage(t,.005*a.canvas.height*l.frameX,0,l.width,l.height,.0123*a.canvas.width,.196*a.canvas.height,.976*a.canvas.width,.78*a.canvas.height)}c.src="src/images/CrystalCaverns_Foreground.png";var l={width:2625,height:1080,frameX:0},d=new Image,v={width:53,height:32,counter:1,frame:1,toggle:"off"};var g={width:5888,height:1080,location:.244*a.canvas.width*.42211};var f=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=.1*a.canvas.width,this.y=.6*a.canvas.height,this.width=100,this.height=100,this.scale=.2*a.canvas.height,this.centerPointX=this.x+this.scale/2,this.centerPointY=this.y+this.scale/2,this.actualScale=.2*a.canvas.height/100,this.frameX=0,this.frameY=0,this.getHitFrame=0,this.idleFrame=0,this.deathFrame=0,this.speed=.005*a.canvas.height,this.moving=!1,this.flip="right",this.shooting=!1,this.counter=0,this.clickXPos=0,this.hit=!1,this.dead=!1,this.invulnerable=!1},u=new Image;u.src="src/sprites/Huntress/Sprites/Character/Run.png";var w=new Image;w.src="src/sprites/Huntress/Sprites/Character/Attack.png";var m=new Image;m.src="src/sprites/Huntress/Sprites/Character/Get Hit.png";var p=new Image;p.src="src/sprites/Huntress/Sprites/Character/Idle.png";var x=new Image;function y(t,e){"right"===f.flip?a.ctx.drawImage(t,f.width*e,0,f.width,f.height,f.x,f.y,.2*a.canvas.height,.2*a.canvas.height):"right"!=f.flip&&(a.ctx.save(),a.ctx.translate(f.x+.2*a.canvas.height,f.y),a.canvas.height,a.ctx.scale(-1,1),a.ctx.drawImage(t,f.width*e,0,f.width,f.height,0,0,.2*a.canvas.height,.2*a.canvas.height),a.ctx.restore())}function S(){f.dead?y(x,f.deathFrame):f.hit?y(m,f.getHitFrame):f.shooting?(f.flip=f.clickXPos>f.x?"right":"left",y(w,f.frameY),5===f.frameY&&(f.shooting=!1)):f.moving?y(u,f.frameX):y(p,f.idleFrame),f.counter+=1,f.moving=!1,f.counter%5==0&&(f.idleFrame<9?f.idleFrame++:f.idleFrame=0),function(){f.moving=!1,0===n.heartCount&&(f.dead=!0);f.counter%15==0&&f.deathFrame<9&&f.deathFrame++}()}function b(){f.counter%5==0&&(f.frameX<7?f.frameX++:f.frameX=0)}x.src="src/sprites/Huntress/Sprites/Character/Death.png";var X={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1,w:!1,a:!1,s:!1,d:!1};function M(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}window.addEventListener("keydown",(function(t){t.preventDefault(),X[t.key]=!0,console.log(t.key)})),window.addEventListener("keyup",(function(t){t.preventDefault(),X[t.key]=!1}));var P=new Image;P.src="src/sprites/Huntress/Sprites/Arrow/Move.png";var k=function(){function t(e,i,h,n,s,r,c,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.speed=h,this.width=n,this.height=s,this.frameX=r,this.sprite=c,this.angle=o,this.left=this.x,this.right=this.x+this.width*(.001*a.canvas.width),this.top=this.y,this.bot=this.y+this.height*(.001*a.canvas.height),this.hit=!1,this.counter=1,this.airToggle="off"}var e,i,h;return e=t,(i=[{key:"draw",value:function(){a.ctx.save(),a.ctx.translate(this.x,this.y),a.ctx.rotate(this.angle),a.ctx.translate(-this.x,-this.y),a.ctx.drawImage(P,this.width*this.frameX,0,this.width,this.height,this.x,this.y,this.width*(.001*a.canvas.width),this.height*(.00175*a.canvas.height)),a.ctx.restore(),this.counter++%10==0&&(this.airToggle="on"),"on"===this.airToggle&&(a.ctx.save(),a.ctx.translate(this.x,this.y),a.ctx.rotate(this.angle),a.ctx.translate(-this.x,-this.y),a.ctx.fillStyle="rgba(44, 130, 201,0.3)",a.ctx.fillRect(this.x-.1*a.canvas.width,this.y,this.width+.1*a.canvas.width,this.height+3),a.ctx.restore())}},{key:"update",value:function(){this.x>.0183*a.canvas.width&&this.x+this.width*(.001*a.canvas.width)<.995*a.canvas.width&&this.y+this.height*(.002*a.canvas.width)<.9671*a.canvas.height&&this.y-this.height*(.003*a.canvas.width)>.19*a.canvas.height&&!1===this.hit&&(this.draw(),this.x=this.x+this.speed.x,this.y=this.y+this.speed.y)}}])&&M(e.prototype,i),h&&M(e,h),t}(),C=[];function I(){C.forEach((function(t,e){t.update(),(t.x<.0182*a.canvas.width||t.x>.995*a.canvas.width-t.width*(.001*a.canvas.width)||t.y<.1932*a.canvas.height+t.height*(.003*a.canvas.width)||t.y>.9671*a.canvas.height-t.height*(.002*a.canvas.width)||!0===t.hit)&&setTimeout((function(){C.splice(e,1)}),0)})),f.counter%3==0&&(f.frameY<5?f.frameY++:f.frameY=0)}function _(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}window.addEventListener("click",(function(t){var e=Math.atan2(t.clientY-(f.y+.19*a.canvas.height/2),t.clientX-(f.x+.2*a.canvas.height/2)),i={x:Math.cos(e)*(.02*a.canvas.height),y:Math.sin(e)*(.02*a.canvas.height)};C.push(new k(f.x+.2*a.canvas.height/2,f.y+.19*a.canvas.height/2.35,i,24,5,0,P,e)),f.frameY=0,f.shooting=!0,f.clickXPos=t.clientX}));var F=new Image;F.src="src/sprites/Slime/SlimeA.png";var A=function(){function t(e,i,h,n,s,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Math.random()*(.96*a.canvas.width-.5*a.canvas.width)+.5*a.canvas.width,this.y=Math.random()*(.93*a.canvas.height-.45*a.canvas.height)+.45*a.canvas.height,this.scale=.05*a.canvas.height,this.centerPointX=this.x+this.scale/2,this.centerPointY=this.y+this.scale/2,this.speed=e,this.width=i,this.height=h,this.frameX=n,this.sprite=s,this.flip="right",this.counter=0,this.randomCounter=0,this.xSpeed=0,this.ySpeed=0,this.moving=!1,this.stop=10+this.randomFactor,this.xMove=0,this.yMove=0,this.randomFactor=2*r,this.left=this.x,this.right=this.x+this.scale,this.top=this.y,this.bot=this.y+this.scale}var e,i,h;return e=t,(i=[{key:"draw",value:function(){a.ctx.drawImage(this.sprite,this.width*this.frameX,0,this.width,this.height,this.x,this.y,this.scale,this.scale)}},{key:"update",value:function(){this.draw()}},{key:"handleSlimeAnimation",value:function(){this.counter+=1,this.counter%4==0&&(Math.abs(this.x-f.x)<200&&this.frameX<15||this.frameX<8?this.frameX++:8===this.frameX||15===this.frameX?this.frameX=0:this.frameX++)}},{key:"handleMovement",value:function(){this.randomCounter+=1,this.moving?(this.x+=this.xSpeed,this.centerPointX=this.x+this.scale/2,this.y+=this.ySpeed,this.centerPointY=this.y+this.scale/2,this.draw(),this.stop-=1,this.stop<=0&&(this.moving=!1,this.stop=10+this.randomFactor)):this.stop>0?(this.stop-=1,this.draw()):(Math.abs(f.x-this.x)<a.canvas.height/4&&Math.abs(f.y-this.y)<a.canvas.height/4?(this.xMove=f.centerPointX,this.yMove=f.centerPointY,Math.abs(f.x-this.x)<a.canvas.height/4?(this.xSpeed=(this.xMove-this.x)/30,this.ySpeed=(this.yMove-this.y)/30):(this.xSpeed=(this.xMove-this.x)/120,this.ySpeed=(this.yMove-this.y)/120)):(this.xMove=Math.random()*(.932*a.canvas.width-.02*a.canvas.width)+.02*a.canvas.width+.05*a.canvas.width,this.yMove=Math.random()*(.9*a.canvas.height-.5*a.canvas.height)+.45*a.canvas.height+.045*a.canvas.height,this.xSpeed=(this.xMove-this.x)/120,this.ySpeed=(this.yMove-this.y)/120),this.draw(),this.stop=30+this.randomFactor,this.moving=!0)}}])&&_(e.prototype,i),h&&_(e,h),t}(),Y=[];function H(){n.counter++,Y.forEach((function(t,e){t.handleSlimeAnimation(),t.handleMovement(),C.forEach((function(i){Math.hypot(i.x-t.centerPointX,i.y-t.centerPointY)-t.scale/2<1&&(Y.splice(e,1),i.hit=!0)})),Math.hypot(t.centerPointX-f.centerPointX,t.centerPointY-f.centerPointY)-t.scale/4-f.scale/4<1&&n.heartCount>0&&1!=f.invulnerable&&(n.heartCount-=1,f.invulnerable=!0,f.counter=f.hit=!0,f.deathFrame=0)})),f.counter%10==0&&(f.getHitFrame<2?f.getHitFrame++:(f.getHitFrame=0,f.hit=!1)),f.invulnerable&&(f.frameX=11),f.counter%120==0&&(f.invulnerable=!1)}!function(t){var e=Math.ceil(0),i=Math.floor(8);Math.floor(Math.random()*(i-e+1)+e);for(var h=1;h<=t;h++)Y.push(new A(.013*a.canvas.height,15.99,16,Math.floor(Math.random()*(i-2-e+1)+e),F,h))}(5);var T=.975*a.canvas.width,R=(a.canvas.width-T)/2,E=.775*a.canvas.height,O=new Image;O.src="src/images/rocks.png",(new Image).src="src/images/itembox.png";var j=i(0),D=j.ctx,L=j.canvas;(new Audio).src="src/audio/music_zapsplat_game_music_action_uplifting_electro_house_anthem_retro_melody_026.mp3",window.onload=function(){setInterval((function(){var t;a.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),Object(a.drawCanvas)(),0!=n.heartCount&&(!function(){a.ctx.createPattern(O,"repeat");var t=.15*a.canvas.height;a.ctx.fillStyle="black",a.ctx.fillRect(R,R,T,t);var e=T;a.ctx.fillStyle="black",a.ctx.fillRect(R,2*R+t,e,E);var i,h,n,s;n=R+(h=(t-(i=.79*t))/2),s=2*R+h+.25*T,[.25,.075,.075,.2775].forEach((function(t){var e=T*t;a.ctx.strokeStyle="white",a.ctx.lineWidth=2,a.ctx.strokeRect(s,n,e,i),s+=R+e}))}(),s(),a.ctx.drawImage(r,.0205*a.canvas.width,.03875*a.canvas.height,.244*a.canvas.width,.339*a.canvas.width*g.height/g.width),a.ctx.drawImage(c,.02025*a.canvas.width,.03875*a.canvas.height,.244*a.canvas.width,.339*a.canvas.width*g.height/g.width),a.ctx.fillStyle="white",a.ctx.fillRect(.0205*a.canvas.width+g.location,.03895*a.canvas.height,.001*a.canvas.width,.337*a.canvas.width*g.height/g.width),o(r),d.src="src/sprites/direction/AR100_nyknck/AR102_nyknck/AR102_0".concat(v.frame,".png"),"on"===v.toggle&&(a.ctx.drawImage(d,.9*a.canvas.width,.275*a.canvas.height,.0504*a.canvas.width,.0504*a.canvas.width*v.height/v.width),v.counter++%10==0&&v.frame++,6===v.frame&&(v.frame=1)),Y.length<1&&0===l.frameX&&(v.toggle="on"),150===l.frameX&&(v.toggle="off"),H(),(X.ArrowUp||X.w)&&f.y>.4*a.canvas.height&&(f.moving=!0,f.y-=f.speed,f.centerPointY-=f.speed,b()),(X.ArrowDown||X.s)&&f.y<a.canvas.height-R-75*f.actualScale&&(f.moving=!0,f.y+=f.speed,f.centerPointY+=f.speed,b()),(X.ArrowLeft||X.a)&&f.x>R-30*f.actualScale&&(f.moving=!0,f.x-=f.speed,f.centerPointX-=f.speed,f.flip="left",b()),(X.ArrowRight||X.d)&&f.x<a.canvas.width-R-70*f.actualScale&&(f.moving=!0,f.x+=f.speed,f.centerPointX+=f.speed,l.frameX<490&&Y.length<1&&(l.frameX+=1,g.location+=l.frameX*a.canvas.width*.244*47736e-10),f.flip="right",b()),X[" "]&&("right"===f.flip&&f.x>R-30*f.actualScale&&f.x<a.canvas.width-R-70*f.actualScale?(f.x+=4*f.speed,f.centerPointX+=4*f.speed):"right"!=f.flip&&f.x>R-30*f.actualScale&&f.x<a.canvas.width-R-70*f.actualScale&&(f.x-=4*f.speed,f.centerPointX-=4*f.speed)),I(),t=.018*L.height,D.fillStyle="white",D.font=t.toString()+"px sans serif",D.fillText("1. Use Arrow Keys or W, A, S, D to move & space to dash",.285*L.width,.075*L.height),D.fillText("2. Click to shoot arrow towards desired location",.285*L.width,.105*L.height),D.fillText("3. Kill the boss before your health drops to 0",.285*L.width,.135*L.height)),S(),0===n.heartCount?(D.fillStyle="white",D.font="40px sans serif",D.fillText("Game Over...",.5*L.width-D.measureText("Game Over...").width/2,.5*L.height),setTimeout((function(){window.location.reload(!1)}),5e3)):o(c)}),1e3/60)}}]);
//# sourceMappingURL=main.js.map